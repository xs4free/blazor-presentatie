@inherits MyTodosCodebehindBase
@page "/mytodos-codebehind"

<section class="todoapp">
    <header class="header">
        <h1>todos</h1>
        <form @onsubmit="AddTodo">
            <input class="new-todo" placeholder="What needs to be done?" @bind="newTodo" autofocus="">
        </form>
    </header>
    <section class="main" style="display: block;">
        <input class="toggle-all" id="toggle-all" type="checkbox">
        <label for="toggle-all">Mark all as complete</label>
        <ul class="todo-list">
            @foreach (var todo in Todos)
            {
                <li class="@(todo.IsComplete ? "completed": "")">
                    <div class="view">
                        <input class="toggle" type="checkbox" @onchange="@(e => MarkCompleted((bool)e.Value, todo))" checked="@todo.IsComplete">
                        <label>@todo.Name</label>
                        <button class="destroy" @onclick="@(() => DeleteTodo(todo))"></button>
                    </div>
                    <input class="edit" value="@todo.Name">
                </li>
            }
        </ul>
    </section>
</section>

